<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>CGView.js</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"CGView.js","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"CGView.js","description":"","keyword":""},"linenums":false};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">CGView.js</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="ArcPlot">
            <span class="title">
                <a href="ArcPlot.html">ArcPlot</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ArcPlot#featureSlot"><a href="ArcPlot.html#featureSlot">featureSlot</a></li>
            
                <li data-name="ArcPlot#legendItem"><a href="ArcPlot.html#legendItem">legendItem</a></li>
            
                <li data-name="ArcPlot#viewer"><a href="ArcPlot.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Backbone">
            <span class="title">
                <a href="Backbone.html">Backbone</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Backbone#bpMargin"><a href="Backbone.html#bpMargin">bpMargin</a></li>
            
                <li data-name="Backbone#bpSpacing"><a href="Backbone.html#bpSpacing">bpSpacing</a></li>
            
                <li data-name="Backbone#bpThicknessAddition"><a href="Backbone.html#bpThicknessAddition">bpThicknessAddition</a></li>
            
                <li data-name="Backbone#canvas"><a href="Backbone.html#canvas">canvas</a></li>
            
                <li data-name="Backbone#color"><a href="Backbone.html#color">color</a></li>
            
                <li data-name="Backbone#font"><a href="Backbone.html#font">font</a></li>
            
                <li data-name="Backbone#fontColor"><a href="Backbone.html#fontColor">fontColor</a></li>
            
                <li data-name="Backbone#maxThickness"><a href="Backbone.html#maxThickness">maxThickness</a></li>
            
                <li data-name="Backbone#radius"><a href="Backbone.html#radius">radius</a></li>
            
                <li data-name="Backbone#thickness"><a href="Backbone.html#thickness">thickness</a></li>
            
                <li data-name="Backbone#viewer"><a href="Backbone.html#viewer">viewer</a></li>
            
                <li data-name="Backbone#visibleRange"><a href="Backbone.html#visibleRange">visibleRange</a></li>
            
                <li data-name="Backbone#zoomedRadius"><a href="Backbone.html#zoomedRadius">zoomedRadius</a></li>
            
                <li data-name="Backbone#zoomedThickness"><a href="Backbone.html#zoomedThickness">zoomedThickness</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Backbone#maxZoomFactor"><a href="Backbone.html#maxZoomFactor">maxZoomFactor</a></li>
            
                <li data-name="Backbone#pixelsPerBp"><a href="Backbone.html#pixelsPerBp">pixelsPerBp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Canvas">
            <span class="title">
                <a href="Canvas.html">Canvas</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Canvas#drawArcsCutoff"><a href="Canvas.html#drawArcsCutoff">drawArcsCutoff</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Canvas#arcPath"><a href="Canvas.html#arcPath">arcPath</a></li>
            
                <li data-name="Canvas#clear"><a href="Canvas.html#clear">clear</a></li>
            
                <li data-name="Canvas#flash"><a href="Canvas.html#flash">flash</a></li>
            
                <li data-name="Canvas#maximumVisibleRadius"><a href="Canvas.html#maximumVisibleRadius">maximumVisibleRadius</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="CGRange">
            <span class="title">
                <a href="CGRange.html">CGRange</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="CGRange#length"><a href="CGRange.html#length">length</a></li>
            
                <li data-name="CGRange#middle"><a href="CGRange.html#middle">middle</a></li>
            
                <li data-name="CGRange#sequenceLength"><a href="CGRange.html#sequenceLength">sequenceLength</a></li>
            
                <li data-name="CGRange#start"><a href="CGRange.html#start">start</a></li>
            
                <li data-name="CGRange#stop"><a href="CGRange.html#stop">stop</a></li>
            
                <li data-name="CGRange#viewer"><a href="CGRange.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="CGRange#contains"><a href="CGRange.html#contains">contains</a></li>
            
                <li data-name="CGRange#copy"><a href="CGRange.html#copy">copy</a></li>
            
                <li data-name="CGRange#getStartPlus"><a href="CGRange.html#getStartPlus">getStartPlus</a></li>
            
                <li data-name="CGRange#getStopPlus"><a href="CGRange.html#getStopPlus">getStopPlus</a></li>
            
                <li data-name="CGRange#isFullCircle"><a href="CGRange.html#isFullCircle">isFullCircle</a></li>
            
                <li data-name="CGRange#mergeWithRange"><a href="CGRange.html#mergeWithRange">mergeWithRange</a></li>
            
                <li data-name="CGRange#normalize"><a href="CGRange.html#normalize">normalize</a></li>
            
                <li data-name="CGRange#overHalfCircle"><a href="CGRange.html#overHalfCircle">overHalfCircle</a></li>
            
                <li data-name="CGRange#overlapsRange"><a href="CGRange.html#overlapsRange">overlapsRange</a></li>
            
                <li data-name="CGRange#spansOrigin"><a href="CGRange.html#spansOrigin">spansOrigin</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Color">
            <span class="title">
                <a href="Color.html">Color</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Color#hsv"><a href="Color.html#hsv">hsv</a></li>
            
                <li data-name="Color#opacity"><a href="Color.html#opacity">opacity</a></li>
            
                <li data-name="Color#rgb"><a href="Color.html#rgb">rgb</a></li>
            
                <li data-name="Color#rgba"><a href="Color.html#rgba">rgba</a></li>
            
                <li data-name="Color#rgbaString"><a href="Color.html#rgbaString">rgbaString</a></li>
            
                <li data-name="Color#rgbString"><a href="Color.html#rgbString">rgbString</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Color#setColor"><a href="Color.html#setColor">setColor</a></li>
            
                <li data-name="Color#toString"><a href="Color.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ColorPicker">
            <span class="title">
                <a href="ColorPicker.html">ColorPicker</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ColorPicker#_configureView"><a href="ColorPicker.html#_configureView">_configureView</a></li>
            
                <li data-name="ColorPicker#alphaListener"><a href="ColorPicker.html#alphaListener">alphaListener</a></li>
            
                <li data-name="ColorPicker#dialogListener"><a href="ColorPicker.html#dialogListener">dialogListener</a></li>
            
                <li data-name="ColorPicker#doneListener"><a href="ColorPicker.html#doneListener">doneListener</a></li>
            
                <li data-name="ColorPicker#enableDragging"><a href="ColorPicker.html#enableDragging">enableDragging</a></li>
            
                <li data-name="ColorPicker#originalColorListener"><a href="ColorPicker.html#originalColorListener">originalColorListener</a></li>
            
                <li data-name="ColorPicker#pickerListener"><a href="ColorPicker.html#pickerListener">pickerListener</a></li>
            
                <li data-name="ColorPicker#slideListener"><a href="ColorPicker.html#slideListener">slideListener</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Dialog">
            <span class="title">
                <a href="Dialog.html">Dialog</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Dialog#fadeTime"><a href="Dialog.html#fadeTime">fadeTime</a></li>
            
                <li data-name="Dialog#visible"><a href="Dialog.html#visible">visible</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Dialog#close"><a href="Dialog.html#close">close</a></li>
            
                <li data-name="Dialog#open"><a href="Dialog.html#open">open</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="EventMonitor">
            <span class="title">
                <a href="EventMonitor.html">EventMonitor</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="EventMonitor#canvas"><a href="EventMonitor.html#canvas">canvas</a></li>
            
                <li data-name="EventMonitor#viewer"><a href="EventMonitor.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Events">
            <span class="title">
                <a href="Events.html">Events</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Events#off"><a href="Events.html#off">off</a></li>
            
                <li data-name="Events#on"><a href="Events.html#on">on</a></li>
            
                <li data-name="Events#trigger"><a href="Events.html#trigger">trigger</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Feature">
            <span class="title">
                <a href="Feature.html">Feature</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Feature#color"><a href="Feature.html#color">color</a></li>
            
                <li data-name="Feature#decoration"><a href="Feature.html#decoration">decoration</a></li>
            
                <li data-name="Feature#featureSlot"><a href="Feature.html#featureSlot">featureSlot</a></li>
            
                <li data-name="Feature#label"><a href="Feature.html#label">label</a></li>
            
                <li data-name="Feature#legendItem"><a href="Feature.html#legendItem">legendItem</a></li>
            
                <li data-name="Feature#opacity"><a href="Feature.html#opacity">opacity</a></li>
            
                <li data-name="Feature#range"><a href="Feature.html#range">range</a></li>
            
                <li data-name="Feature#start"><a href="Feature.html#start">start</a></li>
            
                <li data-name="Feature#stop"><a href="Feature.html#stop">stop</a></li>
            
                <li data-name="Feature#viewer"><a href="Feature.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="FeatureSlot">
            <span class="title">
                <a href="FeatureSlot.html">FeatureSlot</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="FeatureSlot#proportionOfRadius"><a href="FeatureSlot.html#proportionOfRadius">proportionOfRadius</a></li>
            
                <li data-name="FeatureSlot#radius"><a href="FeatureSlot.html#radius">radius</a></li>
            
                <li data-name="FeatureSlot#thickness"><a href="FeatureSlot.html#thickness">thickness</a></li>
            
                <li data-name="FeatureSlot#viewer"><a href="FeatureSlot.html#viewer">viewer</a></li>
            
                <li data-name="FeatureSlot#visibleRange"><a href="FeatureSlot.html#visibleRange">visibleRange</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="FeatureSlot#pixelsPerBp"><a href="FeatureSlot.html#pixelsPerBp">pixelsPerBp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Font">
            <span class="title">
                <a href="Font.html">Font</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Font#css"><a href="Font.html#css">css</a></li>
            
                <li data-name="Font#family"><a href="Font.html#family">family</a></li>
            
                <li data-name="Font#height"><a href="Font.html#height">height</a></li>
            
                <li data-name="Font#size"><a href="Font.html#size">size</a></li>
            
                <li data-name="Font#string"><a href="Font.html#string">string</a></li>
            
                <li data-name="Font#style"><a href="Font.html#style">style</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Font.calculateWidths"><a href="Font.html#.calculateWidths">calculateWidths</a></li>
            
                <li data-name="Font#cssScaled"><a href="Font.html#cssScaled">cssScaled</a></li>
            
                <li data-name="Font#toString"><a href="Font.html#toString">toString</a></li>
            
                <li data-name="Font#width"><a href="Font.html#width">width</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="IO">
            <span class="title">
                <a href="IO.html">IO</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="IO#load_json"><a href="IO.html#load_json">load_json</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Legend">
            <span class="title">
                <a href="Legend.html">Legend</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Legend#backgroundColor"><a href="Legend.html#backgroundColor">backgroundColor</a></li>
            
                <li data-name="Legend#backgroundOpacity"><a href="Legend.html#backgroundOpacity">backgroundOpacity</a></li>
            
                <li data-name="Legend#font"><a href="Legend.html#font">font</a></li>
            
                <li data-name="Legend#fontColor"><a href="Legend.html#fontColor">fontColor</a></li>
            
                <li data-name="Legend#position"><a href="Legend.html#position">position</a></li>
            
                <li data-name="Legend#textAlignment"><a href="Legend.html#textAlignment">textAlignment</a></li>
            
                <li data-name="Legend#viewer"><a href="Legend.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Legend#refresh"><a href="Legend.html#refresh">refresh</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="LegendItem">
            <span class="title">
                <a href="LegendItem.html">LegendItem</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="LegendItem#drawSwatch"><a href="LegendItem.html#drawSwatch">drawSwatch</a></li>
            
                <li data-name="LegendItem#font"><a href="LegendItem.html#font">font</a></li>
            
                <li data-name="LegendItem#fontColor"><a href="LegendItem.html#fontColor">fontColor</a></li>
            
                <li data-name="LegendItem#height"><a href="LegendItem.html#height">height</a></li>
            
                <li data-name="LegendItem#legend"><a href="LegendItem.html#legend">legend</a></li>
            
                <li data-name="LegendItem#swatchColor"><a href="LegendItem.html#swatchColor">swatchColor</a></li>
            
                <li data-name="LegendItem#swatchOpacity"><a href="LegendItem.html#swatchOpacity">swatchOpacity</a></li>
            
                <li data-name="LegendItem#text"><a href="LegendItem.html#text">text</a></li>
            
                <li data-name="LegendItem#textAlignment"><a href="LegendItem.html#textAlignment">textAlignment</a></li>
            
                <li data-name="LegendItem#viewer"><a href="LegendItem.html#viewer">viewer</a></li>
            
                <li data-name="LegendItem#width"><a href="LegendItem.html#width">width</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Menu">
            <span class="title">
                <a href="Menu.html">Menu</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Menu#available"><a href="Menu.html#available">available</a></li>
            
                <li data-name="Menu#height"><a href="Menu.html#height">height</a></li>
            
                <li data-name="Menu#opened"><a href="Menu.html#opened">opened</a></li>
            
                <li data-name="Menu#slideTime"><a href="Menu.html#slideTime">slideTime</a></li>
            
                <li data-name="Menu#width"><a href="Menu.html#width">width</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Menu#close"><a href="Menu.html#close">close</a></li>
            
                <li data-name="Menu#open"><a href="Menu.html#open">open</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rect">
            <span class="title">
                <a href="Rect.html">Rect</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rect#bottom"><a href="Rect.html#bottom">bottom</a></li>
            
                <li data-name="Rect#height"><a href="Rect.html#height">height</a></li>
            
                <li data-name="Rect#left"><a href="Rect.html#left">left</a></li>
            
                <li data-name="Rect#right"><a href="Rect.html#right">right</a></li>
            
                <li data-name="Rect#top"><a href="Rect.html#top">top</a></li>
            
                <li data-name="Rect#width"><a href="Rect.html#width">width</a></li>
            
                <li data-name="Rect#x"><a href="Rect.html#x">x</a></li>
            
                <li data-name="Rect#y"><a href="Rect.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rect#containsPt"><a href="Rect.html#containsPt">containsPt</a></li>
            
                <li data-name="Rect#overlap"><a href="Rect.html#overlap">overlap</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ruler">
            <span class="title">
                <a href="Ruler.html">Ruler</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ruler#majorTicks"><a href="Ruler.html#majorTicks">majorTicks</a></li>
            
                <li data-name="Ruler#majorTickStep"><a href="Ruler.html#majorTickStep">majorTickStep</a></li>
            
                <li data-name="Ruler#minorTicks"><a href="Ruler.html#minorTicks">minorTicks</a></li>
            
                <li data-name="Ruler#minorTickStep"><a href="Ruler.html#minorTickStep">minorTickStep</a></li>
            
                <li data-name="Ruler#tickFormater"><a href="Ruler.html#tickFormater">tickFormater</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ruler#_createTickFormatter"><a href="Ruler.html#_createTickFormatter">_createTickFormatter</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Sequence">
            <span class="title">
                <a href="Sequence.html">Sequence</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Sequence#canvas"><a href="Sequence.html#canvas">canvas</a></li>
            
                <li data-name="Sequence#color"><a href="Sequence.html#color">color</a></li>
            
                <li data-name="Sequence#font"><a href="Sequence.html#font">font</a></li>
            
                <li data-name="Sequence#viewer"><a href="Sequence.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Viewer">
            <span class="title">
                <a href="Viewer.html">Viewer</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Viewer#_testDrawRange"><a href="Viewer.html#_testDrawRange">_testDrawRange</a></li>
            
                <li data-name="Viewer#backgroundColor"><a href="Viewer.html#backgroundColor">backgroundColor</a></li>
            
                <li data-name="Viewer#globalLabel"><a href="Viewer.html#globalLabel">globalLabel</a></li>
            
                <li data-name="Viewer#height"><a href="Viewer.html#height">height</a></li>
            
                <li data-name="Viewer#labelFont"><a href="Viewer.html#labelFont">labelFont</a></li>
            
                <li data-name="Viewer#labelLineLength"><a href="Viewer.html#labelLineLength">labelLineLength</a></li>
            
                <li data-name="Viewer#maxSlotThickness"><a href="Viewer.html#maxSlotThickness">maxSlotThickness</a></li>
            
                <li data-name="Viewer#minDimension"><a href="Viewer.html#minDimension">minDimension</a></li>
            
                <li data-name="Viewer#sequenceLength"><a href="Viewer.html#sequenceLength">sequenceLength</a></li>
            
                <li data-name="Viewer#width"><a href="Viewer.html#width">width</a></li>
            
                <li data-name="Viewer#zoomFactor"><a href="Viewer.html#zoomFactor">zoomFactor</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Viewer#_calculateSlotThickness"><a href="Viewer.html#_calculateSlotThickness">_calculateSlotThickness</a></li>
            
                <li data-name="Viewer#addBp"><a href="Viewer.html#addBp">addBp</a></li>
            
                <li data-name="Viewer#arcPlots"><a href="Viewer.html#arcPlots">arcPlots</a></li>
            
                <li data-name="Viewer#clear"><a href="Viewer.html#clear">clear</a></li>
            
                <li data-name="Viewer#features"><a href="Viewer.html#features">features</a></li>
            
                <li data-name="Viewer#flash"><a href="Viewer.html#flash">flash</a></li>
            
                <li data-name="Viewer#maxZoomedRadius"><a href="Viewer.html#maxZoomedRadius">maxZoomedRadius</a></li>
            
                <li data-name="Viewer#moveTo"><a href="Viewer.html#moveTo">moveTo</a></li>
            
                <li data-name="Viewer#resize"><a href="Viewer.html#resize">resize</a></li>
            
                <li data-name="Viewer#subtractBp"><a href="Viewer.html#subtractBp">subtractBp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="Ruler.js.html">Source: Ruler.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source "><code>//////////////////////////////////////////////////////////////////////////////
// Ruler
//////////////////////////////////////////////////////////////////////////////
(function(CGV) {

  class Ruler {

    /**
     * The *Ruler* controls and draws the sequence ruler in bp.
     */
    constructor(viewer, options = {}) {
      this.viewer = viewer;
      this.canvas = viewer.canvas;
      this.tickCount = CGV.defaultFor(options.tickCount, 10);
      this.tickWidth = CGV.defaultFor(options.tickWidth, 1);
      this.tickLength = CGV.defaultFor(options.tickLength, 5);
      this.rulerPadding = CGV.defaultFor(options.rulerPadding, 10);
      this.font = CGV.defaultFor(options.font, 'sans-serif, plain, 10');
    }

    get font() {
      return this._font
    }

    set font(value) {
      if (value.toString() == 'Font') {
        this._font = value;
      } else {
        this._font = new CGV.Font(value);
      }
    }

    get tickCount() {
      return this._tickCount
    }

    set tickCount(count) {
      this._tickCount = count; 
    }

    get tickWidth() {
      return this._tickWidth
    }

    set tickWidth(width) {
      this._tickWidth = CGV.pixel(width);
    }

    get tickLength() {
      return this._tickLength
    }

    set tickLength(length) {
      this._tickLength = CGV.pixel(length);
    }

    get rulerPadding() {
      return this._rulerPadding
    }

    set rulerPadding(padding) {
      this._rulerPadding = CGV.pixel(padding);
    }

    /**
     * @member {Array} - Get the array of Major Ticks.
     */
    get majorTicks() {
      return this._majorTicks
    }

    /**
     * @member {Number} - Get distance between major tick marks.
     */
    get majorTickStep() {
      return this._majorTickStep
    }

    /**
     * @member {Array} - Get the array of Minor Ticks.
     */
    get minorTicks() {
      return this._minorTicks
    }

    /**
     * @member {Number} - Get distance between minor tick marks.
     */
    get minorTickStep() {
      return this._minorTickStep
    }

    /**
     * @member {Object} - Get the d3 formatter for printing the tick labels
     */
    get tickFormater() {
      return this._tickFormater
    }

    /**
     * Create d3 tickFormat based on the distance between ticks
     * @param {Number} tickStep - Distance between ticks
     * @return {Object}
     */
    _createTickFormatter(tickStep) {
      var tickFormat, tickPrecision;
      if (tickStep &lt;= 50) {
        tickFormat = d3.formatPrefix(',.0', 1);
      } else if (tickStep &lt;= 50e3) {
        tickPrecision = d3.precisionPrefix(tickStep, 1e3)
        tickFormat = d3.formatPrefix('.' + tickPrecision, 1e3);
      } else if (tickStep &lt;= 50e6) {
        tickPrecision = d3.precisionPrefix(tickStep, 1e6)
        tickFormat = d3.formatPrefix('.' + tickPrecision, 1e6);
      }
      return tickFormat
    }

    // Below the zoomFactorCutoff, all ticks are calculated for the entire map
    // Above the zoomFactorCutoff, ticks are created for the visible range
    _updateTicks(innerRadius, outerRadius) {
      var zoomFactorCutoff = 5;
      var sequenceLength = this.viewer.sequenceLength;
      var start = 0;
      var stop = 0;
      var majorTicks = new CGV.CGArray();
      var majorTickStep = 0;
      var minorTicks = new CGV.CGArray();
      var minorTickStep = 0;
      var tickCount = this.tickCount;

      // Find start and stop to create ticks
      if (this.viewer.zoomFactor &lt; zoomFactorCutoff) {
        start = 1;
        stop = sequenceLength;
      } else {
        tickCount = Math.ceil(tickCount / 2);
        var innerRange = this.canvas.visibleRangeForRadius(innerRadius);
        var outerRange = this.canvas.visibleRangeForRadius(outerRadius);
        if (innerRange &amp;&amp; outerRange) {
          var mergedRange = innerRange.mergeWithRange(outerRange);
          start = mergedRange.start;
          stop = mergedRange.stop;
        } else if (innerRange) {
          start = innerRange.start;
          stop = innerRange.stop;
        } else if (outerRange) {
          start = outerRange.start;
          stop = outerRange.stop;
        }
      }

      // Create Major ticks and tickStep
      if (stop > start) {
        majorTicks.merge( d3.ticks(start, stop, tickCount) );
        majorTickStep = d3.tickStep(start, stop, tickCount);
      } else if (stop &lt; start) {
        // Ratio of the sequence length before 0 to sequence length after zero
        // The number of ticks will for each region will depend on this ratio
        var tickCountRatio = (sequenceLength - start) / this.viewer.lengthOfRange(start, stop);
        var ticksBeforeZero = Math.round(tickCount * tickCountRatio);
        var ticksAfterZero = Math.round(tickCount * (1 - tickCountRatio)) * 2; // Multiply by to for a margin of safety
        if (ticksBeforeZero > 0) {
          majorTicks.merge( d3.ticks(start, sequenceLength, ticksBeforeZero) );
          majorTickStep = Math.round(d3.tickStep(start, sequenceLength, ticksBeforeZero));
          for (var i = 1; i &lt;= ticksAfterZero; i ++) {
            if (majorTickStep * i &lt; start) {
              majorTicks.push( majorTickStep * i );
            }
          }
        } else {
          majorTicks.merge( d3.ticks(1, stop, tickCount) );
          majorTickStep = Math.round(d3.tickStep(1, stop, tickCount));
        }
      }

      // Find Minor ticks
      minorTicks = new CGV.CGArray();
      if ( !(majorTickStep % 5) ) {
        minorTickStep = majorTickStep / 5;
      } else if ( !(majorTickStep % 2) ) {
        minorTickStep = majorTickStep / 2;
      } else {
        minorTickStep = 0;
      }
      if (minorTickStep) {
        if (this.viewer.lengthOfRange(majorTicks[majorTicks.length - 1], majorTicks[0]) &lt;= 3*majorTickStep) {
          start = 0;
          stop = sequenceLength;
        } else {
          start = majorTicks[0] - majorTickStep;
          stop = majorTicks[majorTicks.length - 1] + majorTickStep;
        }
        if (start &lt; stop) {
          for (var tick = start; tick &lt;= stop; tick += minorTickStep) {
            if (tick % majorTickStep) {
              minorTicks.push(tick);
            }
          }
        } else {
          for (var tick = start; tick &lt;= sequenceLength; tick += minorTickStep) {
            if (tick % majorTickStep) {
              minorTicks.push(tick);
            }
          }
          for (var tick = 0; tick &lt;= stop; tick += minorTickStep) {
            if (tick % majorTickStep) {
              minorTicks.push(tick);
            }
          }
        }
      }
      this._majorTicks = majorTicks;
      this._majorTickStep = majorTickStep;
      this._minorTicks = minorTicks;
      this._minorTickStep = minorTickStep;
      this._tickFormater = this._createTickFormatter(majorTickStep);
    }

    draw(innerRadius, outerRadius) {
      this._updateTicks(innerRadius, outerRadius);
      this.drawForRadius(innerRadius, 'inner');
      this.drawForRadius(outerRadius, 'outer', false);
    }


    drawForRadius(radius, position = 'inner', drawLabels = true) {
      var ctx = this.canvas.ctx;
      var scale = this.canvas.scale;
      var tickLength = (position == 'inner') ? -this.tickLength : this.tickLength;
      ctx.fillStyle = 'black'; // Label Color
      ctx.font = this.font.css;
      ctx.textAlign = 'left';
      // Draw Tick for first bp (Origin)
      this.canvas.radiantLine(1, radius, tickLength, this.tickWidth * 2);
      // Draw Major ticks
      this.majorTicks.each( (i, bp) => {
        this.canvas.radiantLine(bp, radius, tickLength, this.tickWidth);
        if (drawLabels) {
          var label = this.tickFormater(bp);
          this.drawLabel(bp, label, radius, position);
        }
      });
      // Draw Minor ticks
      this.minorTicks.each( (i, bp) => {
        this.canvas.radiantLine(bp, radius, tickLength / 2, this.tickWidth);
      });
    }

    drawLabel(bp, label, radius, position = 'inner') {
      var scale = this.canvas.scale;
      var ctx = this.canvas.ctx;
      // Put space between number and units
      // var label = label.replace(/([^\d\.]+)/, ' $1bp');
      var label = label.replace(/([km])?$/, ' $1bp');
      // INNER
      var innerPt = this.canvas.pointFor(bp, radius - this.rulerPadding);
      var radians = scale.bp(bp);
      var attachmentPosition = CGV.clockPositionForAngle(radians);
      var labelWidth = this.font.width(ctx, label);
      var labelPt = CGV.rectOriginForAttachementPoint(innerPt, attachmentPosition, labelWidth, this.font.height);
      ctx.fillText(label, labelPt.x, labelPt.y);
    }

  }

  CGV.Ruler = Ruler;

})(CGView);

    // drawForRadius_ORIG(radius, position = 'inner', drawLabels = true) {
    //   var ctx = this.canvas.ctx;
    //   var scale = this.canvas.scale;
    //   var ranges = this.canvas.visibleRangeForRadius(radius);
    //   var start = ranges ? ranges[0] : 1;
    //   var stop = ranges ? ranges[1] : this.viewer.sequenceLength;
    //   var tickLength = (position == 'inner') ? -this.tickLength : this.tickLength;
    //   ctx.fillStyle = 'black'; // Label Color
    //   ctx.font = this.font.css;
    //   ctx.textAlign = 'left';
    //   // Tick format for labels
    //   var tickFormat = scale.bp.tickFormat(this.tickCount * this.viewer.zoomFactor, 's');
    //   // Draw Tick for 1 bp
    //   this.canvas.radiantLine(1, radius, tickLength, this.tickWidth);
    //   // Draw Major ticks
    //   var majorTicks = new CGV.CGArray(scale.bp.ticks(this.tickCount * this.viewer.zoomFactor))
    //   majorTicks.eachFromRange(start, stop, 1, (i, bp) => {
    //     this.canvas.radiantLine(bp, radius, tickLength, this.tickWidth);
    //     if (drawLabels) {
    //       var label = tickFormat(bp);
    //       this.drawLabel(bp, label, radius, position);
    //     }
    //   });
    //   // Draw Minor ticks
    //   var minorTicks = new CGV.CGArray(scale.bp.ticks(majorTicks.length * 5))
    //   minorTicks.eachFromRange(start, stop, 1, (i, bp) => {
    //     this.canvas.radiantLine(bp, radius, tickLength / 2, this.tickWidth);
    //   });
    // }
</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Feb 07 2017 09:13:16 GMT-0700 (MST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
