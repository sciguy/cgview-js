<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>CGView.js</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"CGView.js","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"CGView.js","description":"","keyword":""},"linenums":false};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">CGView.js</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="ArcPlot">
            <span class="title">
                <a href="ArcPlot.html">ArcPlot</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ArcPlot#baseline"><a href="ArcPlot.html#baseline">baseline</a></li>
            
                <li data-name="ArcPlot#legendItem"><a href="ArcPlot.html#legendItem">legendItem</a></li>
            
                <li data-name="ArcPlot#positions"><a href="ArcPlot.html#positions">positions</a></li>
            
                <li data-name="ArcPlot#score"><a href="ArcPlot.html#score">score</a></li>
            
                <li data-name="ArcPlot#viewer"><a href="ArcPlot.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Backbone">
            <span class="title">
                <a href="Backbone.html">Backbone</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Backbone#bpMargin"><a href="Backbone.html#bpMargin">bpMargin</a></li>
            
                <li data-name="Backbone#bpSpacing"><a href="Backbone.html#bpSpacing">bpSpacing</a></li>
            
                <li data-name="Backbone#bpThicknessAddition"><a href="Backbone.html#bpThicknessAddition">bpThicknessAddition</a></li>
            
                <li data-name="Backbone#canvas"><a href="Backbone.html#canvas">canvas</a></li>
            
                <li data-name="Backbone#color"><a href="Backbone.html#color">color</a></li>
            
                <li data-name="Backbone#font"><a href="Backbone.html#font">font</a></li>
            
                <li data-name="Backbone#fontColor"><a href="Backbone.html#fontColor">fontColor</a></li>
            
                <li data-name="Backbone#maxThickness"><a href="Backbone.html#maxThickness">maxThickness</a></li>
            
                <li data-name="Backbone#radius"><a href="Backbone.html#radius">radius</a></li>
            
                <li data-name="Backbone#sequence"><a href="Backbone.html#sequence">sequence</a></li>
            
                <li data-name="Backbone#thickness"><a href="Backbone.html#thickness">thickness</a></li>
            
                <li data-name="Backbone#viewer"><a href="Backbone.html#viewer">viewer</a></li>
            
                <li data-name="Backbone#visibleRange"><a href="Backbone.html#visibleRange">visibleRange</a></li>
            
                <li data-name="Backbone#zoomedRadius"><a href="Backbone.html#zoomedRadius">zoomedRadius</a></li>
            
                <li data-name="Backbone#zoomedThickness"><a href="Backbone.html#zoomedThickness">zoomedThickness</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Backbone#maxZoomFactor"><a href="Backbone.html#maxZoomFactor">maxZoomFactor</a></li>
            
                <li data-name="Backbone#pixelsPerBp"><a href="Backbone.html#pixelsPerBp">pixelsPerBp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Canvas">
            <span class="title">
                <a href="Canvas.html">Canvas</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Canvas#layerNames"><a href="Canvas.html#layerNames">layerNames</a></li>
            
                <li data-name="Canvas#sequence"><a href="Canvas.html#sequence">sequence</a></li>
            
                <li data-name="Canvas#viewer"><a href="Canvas.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Canvas#arcPath"><a href="Canvas.html#arcPath">arcPath</a></li>
            
                <li data-name="Canvas#clear"><a href="Canvas.html#clear">clear</a></li>
            
                <li data-name="Canvas#context"><a href="Canvas.html#context">context</a></li>
            
                <li data-name="Canvas#drawArc"><a href="Canvas.html#drawArc">drawArc</a></li>
            
                <li data-name="Canvas#layers"><a href="Canvas.html#layers">layers</a></li>
            
                <li data-name="Canvas#maximumVisibleRadius"><a href="Canvas.html#maximumVisibleRadius">maximumVisibleRadius</a></li>
            
                <li data-name="Canvas#node"><a href="Canvas.html#node">node</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Caption">
            <span class="title">
                <a href="Caption.html">Caption</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Caption#backgroundColor"><a href="Caption.html#backgroundColor">backgroundColor</a></li>
            
                <li data-name="Caption#canvas"><a href="Caption.html#canvas">canvas</a></li>
            
                <li data-name="Caption#ctx"><a href="Caption.html#ctx">ctx</a></li>
            
                <li data-name="Caption#font"><a href="Caption.html#font">font</a></li>
            
                <li data-name="Caption#fontColor"><a href="Caption.html#fontColor">fontColor</a></li>
            
                <li data-name="Caption#items"><a href="Caption.html#items">items</a></li>
            
                <li data-name="Caption#position"><a href="Caption.html#position">position</a></li>
            
                <li data-name="Caption#textAlignment"><a href="Caption.html#textAlignment">textAlignment</a></li>
            
                <li data-name="Caption#viewer"><a href="Caption.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Caption#refresh"><a href="Caption.html#refresh">refresh</a></li>
            
                <li data-name="Caption#toString"><a href="Caption.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="CaptionItem">
            <span class="title">
                <a href="CaptionItem.html">CaptionItem</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="CaptionItem#caption"><a href="CaptionItem.html#caption">caption</a></li>
            
                <li data-name="CaptionItem#font"><a href="CaptionItem.html#font">font</a></li>
            
                <li data-name="CaptionItem#fontColor"><a href="CaptionItem.html#fontColor">fontColor</a></li>
            
                <li data-name="CaptionItem#height"><a href="CaptionItem.html#height">height</a></li>
            
                <li data-name="CaptionItem#parent"><a href="CaptionItem.html#parent">parent</a></li>
            
                <li data-name="CaptionItem#parent"><a href="CaptionItem.html#parent">parent</a></li>
            
                <li data-name="CaptionItem#text"><a href="CaptionItem.html#text">text</a></li>
            
                <li data-name="CaptionItem#textAlignment"><a href="CaptionItem.html#textAlignment">textAlignment</a></li>
            
                <li data-name="CaptionItem#viewer"><a href="CaptionItem.html#viewer">viewer</a></li>
            
                <li data-name="CaptionItem#width"><a href="CaptionItem.html#width">width</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="CaptionItem#toString"><a href="CaptionItem.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="CGRange">
            <span class="title">
                <a href="CGRange.html">CGRange</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="CGRange#length"><a href="CGRange.html#length">length</a></li>
            
                <li data-name="CGRange#middle"><a href="CGRange.html#middle">middle</a></li>
            
                <li data-name="CGRange#sequence"><a href="CGRange.html#sequence">sequence</a></li>
            
                <li data-name="CGRange#sequenceLength"><a href="CGRange.html#sequenceLength">sequenceLength</a></li>
            
                <li data-name="CGRange#start"><a href="CGRange.html#start">start</a></li>
            
                <li data-name="CGRange#stop"><a href="CGRange.html#stop">stop</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="CGRange#contains"><a href="CGRange.html#contains">contains</a></li>
            
                <li data-name="CGRange#copy"><a href="CGRange.html#copy">copy</a></li>
            
                <li data-name="CGRange#getStartPlus"><a href="CGRange.html#getStartPlus">getStartPlus</a></li>
            
                <li data-name="CGRange#getStopPlus"><a href="CGRange.html#getStopPlus">getStopPlus</a></li>
            
                <li data-name="CGRange#isFullCircle"><a href="CGRange.html#isFullCircle">isFullCircle</a></li>
            
                <li data-name="CGRange#mergeWithRange"><a href="CGRange.html#mergeWithRange">mergeWithRange</a></li>
            
                <li data-name="CGRange#normalize"><a href="CGRange.html#normalize">normalize</a></li>
            
                <li data-name="CGRange#overHalfCircle"><a href="CGRange.html#overHalfCircle">overHalfCircle</a></li>
            
                <li data-name="CGRange#overlapsRange"><a href="CGRange.html#overlapsRange">overlapsRange</a></li>
            
                <li data-name="CGRange#spansOrigin"><a href="CGRange.html#spansOrigin">spansOrigin</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Color">
            <span class="title">
                <a href="Color.html">Color</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Color#hsv"><a href="Color.html#hsv">hsv</a></li>
            
                <li data-name="Color#opacity"><a href="Color.html#opacity">opacity</a></li>
            
                <li data-name="Color#rgb"><a href="Color.html#rgb">rgb</a></li>
            
                <li data-name="Color#rgba"><a href="Color.html#rgba">rgba</a></li>
            
                <li data-name="Color#rgbaString"><a href="Color.html#rgbaString">rgbaString</a></li>
            
                <li data-name="Color#rgbString"><a href="Color.html#rgbString">rgbString</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Color#setColor"><a href="Color.html#setColor">setColor</a></li>
            
                <li data-name="Color#toString"><a href="Color.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ColorPicker">
            <span class="title">
                <a href="ColorPicker.html">ColorPicker</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ColorPicker#_configureView"><a href="ColorPicker.html#_configureView">_configureView</a></li>
            
                <li data-name="ColorPicker#alphaListener"><a href="ColorPicker.html#alphaListener">alphaListener</a></li>
            
                <li data-name="ColorPicker#dialogListener"><a href="ColorPicker.html#dialogListener">dialogListener</a></li>
            
                <li data-name="ColorPicker#doneListener"><a href="ColorPicker.html#doneListener">doneListener</a></li>
            
                <li data-name="ColorPicker#enableDragging"><a href="ColorPicker.html#enableDragging">enableDragging</a></li>
            
                <li data-name="ColorPicker#originalColorListener"><a href="ColorPicker.html#originalColorListener">originalColorListener</a></li>
            
                <li data-name="ColorPicker#pickerListener"><a href="ColorPicker.html#pickerListener">pickerListener</a></li>
            
                <li data-name="ColorPicker#slideListener"><a href="ColorPicker.html#slideListener">slideListener</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Dialog">
            <span class="title">
                <a href="Dialog.html">Dialog</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Dialog#fadeTime"><a href="Dialog.html#fadeTime">fadeTime</a></li>
            
                <li data-name="Dialog#visible"><a href="Dialog.html#visible">visible</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Dialog#close"><a href="Dialog.html#close">close</a></li>
            
                <li data-name="Dialog#open"><a href="Dialog.html#open">open</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Divider">
            <span class="title">
                <a href="Divider.html">Divider</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Divider#canvas"><a href="Divider.html#canvas">canvas</a></li>
            
                <li data-name="Divider#color"><a href="Divider.html#color">color</a></li>
            
                <li data-name="Divider#radii"><a href="Divider.html#radii">radii</a></li>
            
                <li data-name="Divider#sequence"><a href="Divider.html#sequence">sequence</a></li>
            
                <li data-name="Divider#thickness"><a href="Divider.html#thickness">thickness</a></li>
            
                <li data-name="Divider#viewer"><a href="Divider.html#viewer">viewer</a></li>
            
                <li data-name="Divider#visibleRange"><a href="Divider.html#visibleRange">visibleRange</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="EventMonitor">
            <span class="title">
                <a href="EventMonitor.html">EventMonitor</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="EventMonitor#canvas"><a href="EventMonitor.html#canvas">canvas</a></li>
            
                <li data-name="EventMonitor#viewer"><a href="EventMonitor.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Events">
            <span class="title">
                <a href="Events.html">Events</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Events#off"><a href="Events.html#off">off</a></li>
            
                <li data-name="Events#on"><a href="Events.html#on">on</a></li>
            
                <li data-name="Events#trigger"><a href="Events.html#trigger">trigger</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Feature">
            <span class="title">
                <a href="Feature.html">Feature</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Feature#color"><a href="Feature.html#color">color</a></li>
            
                <li data-name="Feature#decoration"><a href="Feature.html#decoration">decoration</a></li>
            
                <li data-name="Feature#extractedFromSequence"><a href="Feature.html#extractedFromSequence">extractedFromSequence</a></li>
            
                <li data-name="Feature#featureType"><a href="Feature.html#featureType">featureType</a></li>
            
                <li data-name="Feature#label"><a href="Feature.html#label">label</a></li>
            
                <li data-name="Feature#legendItem"><a href="Feature.html#legendItem">legendItem</a></li>
            
                <li data-name="Feature#range"><a href="Feature.html#range">range</a></li>
            
                <li data-name="Feature#start"><a href="Feature.html#start">start</a></li>
            
                <li data-name="Feature#stop"><a href="Feature.html#stop">stop</a></li>
            
                <li data-name="Feature#type"><a href="Feature.html#type">type</a></li>
            
                <li data-name="Feature#viewer"><a href="Feature.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="FeatureType">
            <span class="title">
                <a href="FeatureType.html">FeatureType</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="FeatureType#decoration"><a href="FeatureType.html#decoration">decoration</a></li>
            
                <li data-name="FeatureType#type"><a href="FeatureType.html#type">type</a></li>
            
                <li data-name="FeatureType#viewer"><a href="FeatureType.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Font">
            <span class="title">
                <a href="Font.html">Font</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Font#css"><a href="Font.html#css">css</a></li>
            
                <li data-name="Font#family"><a href="Font.html#family">family</a></li>
            
                <li data-name="Font#height"><a href="Font.html#height">height</a></li>
            
                <li data-name="Font#size"><a href="Font.html#size">size</a></li>
            
                <li data-name="Font#string"><a href="Font.html#string">string</a></li>
            
                <li data-name="Font#style"><a href="Font.html#style">style</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Font.calculateWidths"><a href="Font.html#.calculateWidths">calculateWidths</a></li>
            
                <li data-name="Font#cssScaled"><a href="Font.html#cssScaled">cssScaled</a></li>
            
                <li data-name="Font#toString"><a href="Font.html#toString">toString</a></li>
            
                <li data-name="Font#width"><a href="Font.html#width">width</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="IO">
            <span class="title">
                <a href="IO.html">IO</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="IO#loadJSON"><a href="IO.html#loadJSON">loadJSON</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Layout">
            <span class="title">
                <a href="Layout.html">Layout</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Layout#insideRadius"><a href="Layout.html#insideRadius">insideRadius</a></li>
            
                <li data-name="Layout#outsideRadius"><a href="Layout.html#outsideRadius">outsideRadius</a></li>
            
                <li data-name="Layout#viewer"><a href="Layout.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Layout#_adjustProportions"><a href="Layout.html#_adjustProportions">_adjustProportions</a></li>
            
                <li data-name="Layout#_calculateSlotThickness"><a href="Layout.html#_calculateSlotThickness">_calculateSlotThickness</a></li>
            
                <li data-name="Layout#updateLayout"><a href="Layout.html#updateLayout">updateLayout</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Legend">
            <span class="title">
                <a href="Legend.html">Legend</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Legend#highlightedSwatchedItem"><a href="Legend.html#highlightedSwatchedItem">highlightedSwatchedItem</a></li>
            
                <li data-name="Legend#selectedSwatchedItem"><a href="Legend.html#selectedSwatchedItem">selectedSwatchedItem</a></li>
            
                <li data-name="Legend#viewer"><a href="Legend.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Legend#toString"><a href="Legend.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="LegendItem">
            <span class="title">
                <a href="LegendItem.html">LegendItem</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="LegendItem#drawSwatch"><a href="LegendItem.html#drawSwatch">drawSwatch</a></li>
            
                <li data-name="LegendItem#legend"><a href="LegendItem.html#legend">legend</a></li>
            
                <li data-name="LegendItem#swatchColor"><a href="LegendItem.html#swatchColor">swatchColor</a></li>
            
                <li data-name="LegendItem#swatchHighlighted"><a href="LegendItem.html#swatchHighlighted">swatchHighlighted</a></li>
            
                <li data-name="LegendItem#swatchSelected"><a href="LegendItem.html#swatchSelected">swatchSelected</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="LegendItem#toString"><a href="LegendItem.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Menu">
            <span class="title">
                <a href="Menu.html">Menu</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Menu#available"><a href="Menu.html#available">available</a></li>
            
                <li data-name="Menu#height"><a href="Menu.html#height">height</a></li>
            
                <li data-name="Menu#opened"><a href="Menu.html#opened">opened</a></li>
            
                <li data-name="Menu#slideTime"><a href="Menu.html#slideTime">slideTime</a></li>
            
                <li data-name="Menu#width"><a href="Menu.html#width">width</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Menu#close"><a href="Menu.html#close">close</a></li>
            
                <li data-name="Menu#open"><a href="Menu.html#open">open</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Messenger">
            <span class="title">
                <a href="Messenger.html">Messenger</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Messenger#fadeTime"><a href="Messenger.html#fadeTime">fadeTime</a></li>
            
                <li data-name="Messenger#viewer"><a href="Messenger.html#viewer">viewer</a></li>
            
                <li data-name="Messenger#visible"><a href="Messenger.html#visible">visible</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Messenger#close"><a href="Messenger.html#close">close</a></li>
            
                <li data-name="Messenger#open"><a href="Messenger.html#open">open</a></li>
            
                <li data-name="Messenger#toString"><a href="Messenger.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rect">
            <span class="title">
                <a href="Rect.html">Rect</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rect#bottom"><a href="Rect.html#bottom">bottom</a></li>
            
                <li data-name="Rect#height"><a href="Rect.html#height">height</a></li>
            
                <li data-name="Rect#left"><a href="Rect.html#left">left</a></li>
            
                <li data-name="Rect#right"><a href="Rect.html#right">right</a></li>
            
                <li data-name="Rect#top"><a href="Rect.html#top">top</a></li>
            
                <li data-name="Rect#width"><a href="Rect.html#width">width</a></li>
            
                <li data-name="Rect#x"><a href="Rect.html#x">x</a></li>
            
                <li data-name="Rect#y"><a href="Rect.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rect#containsPt"><a href="Rect.html#containsPt">containsPt</a></li>
            
                <li data-name="Rect#overlap"><a href="Rect.html#overlap">overlap</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ruler">
            <span class="title">
                <a href="Ruler.html">Ruler</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ruler#canvas"><a href="Ruler.html#canvas">canvas</a></li>
            
                <li data-name="Ruler#majorTicks"><a href="Ruler.html#majorTicks">majorTicks</a></li>
            
                <li data-name="Ruler#majorTickStep"><a href="Ruler.html#majorTickStep">majorTickStep</a></li>
            
                <li data-name="Ruler#minorTicks"><a href="Ruler.html#minorTicks">minorTicks</a></li>
            
                <li data-name="Ruler#minorTickStep"><a href="Ruler.html#minorTickStep">minorTickStep</a></li>
            
                <li data-name="Ruler#sequence"><a href="Ruler.html#sequence">sequence</a></li>
            
                <li data-name="Ruler#tickFormater"><a href="Ruler.html#tickFormater">tickFormater</a></li>
            
                <li data-name="Ruler#viewer"><a href="Ruler.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ruler#_createTickFormatter"><a href="Ruler.html#_createTickFormatter">_createTickFormatter</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Sequence">
            <span class="title">
                <a href="Sequence.html">Sequence</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Sequence#canvas"><a href="Sequence.html#canvas">canvas</a></li>
            
                <li data-name="Sequence#color"><a href="Sequence.html#color">color</a></li>
            
                <li data-name="Sequence#font"><a href="Sequence.html#font">font</a></li>
            
                <li data-name="Sequence#length"><a href="Sequence.html#length">length</a></li>
            
                <li data-name="Sequence#seq"><a href="Sequence.html#seq">seq</a></li>
            
                <li data-name="Sequence#sequenceExtractor"><a href="Sequence.html#sequenceExtractor">sequenceExtractor</a></li>
            
                <li data-name="Sequence#viewer"><a href="Sequence.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Sequence#addBp"><a href="Sequence.html#addBp">addBp</a></li>
            
                <li data-name="Sequence#findPattern"><a href="Sequence.html#findPattern">findPattern</a></li>
            
                <li data-name="Sequence#forRange"><a href="Sequence.html#forRange">forRange</a></li>
            
                <li data-name="Sequence#subtractBp"><a href="Sequence.html#subtractBp">subtractBp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="SequenceExtractor">
            <span class="title">
                <a href="SequenceExtractor.html">SequenceExtractor</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="SequenceExtractor#length"><a href="SequenceExtractor.html#length">length</a></li>
            
                <li data-name="SequenceExtractor#seqString"><a href="SequenceExtractor.html#seqString">seqString</a></li>
            
                <li data-name="SequenceExtractor#sequence"><a href="SequenceExtractor.html#sequence">sequence</a></li>
            
                <li data-name="SequenceExtractor#viewer"><a href="SequenceExtractor.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Slot">
            <span class="title">
                <a href="Slot.html">Slot</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Slot#inside"><a href="Slot.html#inside">inside</a></li>
            
                <li data-name="Slot#layout"><a href="Slot.html#layout">layout</a></li>
            
                <li data-name="Slot#outside"><a href="Slot.html#outside">outside</a></li>
            
                <li data-name="Slot#position"><a href="Slot.html#position">position</a></li>
            
                <li data-name="Slot#proportionOfRadius"><a href="Slot.html#proportionOfRadius">proportionOfRadius</a></li>
            
                <li data-name="Slot#radius"><a href="Slot.html#radius">radius</a></li>
            
                <li data-name="Slot#sequence"><a href="Slot.html#sequence">sequence</a></li>
            
                <li data-name="Slot#thickness"><a href="Slot.html#thickness">thickness</a></li>
            
                <li data-name="Slot#track"><a href="Slot.html#track">track</a></li>
            
                <li data-name="Slot#viewer"><a href="Slot.html#viewer">viewer</a></li>
            
                <li data-name="Slot#visibleRange"><a href="Slot.html#visibleRange">visibleRange</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Slot#pixelsPerBp"><a href="Slot.html#pixelsPerBp">pixelsPerBp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Track">
            <span class="title">
                <a href="Track.html">Track</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Track#contents"><a href="Track.html#contents">contents</a></li>
            
                <li data-name="Track#contentType"><a href="Track.html#contentType">contentType</a></li>
            
                <li data-name="Track#layout"><a href="Track.html#layout">layout</a></li>
            
                <li data-name="Track#loadProgress"><a href="Track.html#loadProgress">loadProgress</a></li>
            
                <li data-name="Track#position"><a href="Track.html#position">position</a></li>
            
                <li data-name="Track#readingFrame"><a href="Track.html#readingFrame">readingFrame</a></li>
            
                <li data-name="Track#sequence"><a href="Track.html#sequence">sequence</a></li>
            
                <li data-name="Track#strand"><a href="Track.html#strand">strand</a></li>
            
                <li data-name="Track#viewer"><a href="Track.html#viewer">viewer</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Viewer">
            <span class="title">
                <a href="Viewer.html">Viewer</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Viewer#_testDrawRange"><a href="Viewer.html#_testDrawRange">_testDrawRange</a></li>
            
                <li data-name="Viewer#backgroundColor"><a href="Viewer.html#backgroundColor">backgroundColor</a></li>
            
                <li data-name="Viewer#globalLabel"><a href="Viewer.html#globalLabel">globalLabel</a></li>
            
                <li data-name="Viewer#height"><a href="Viewer.html#height">height</a></li>
            
                <li data-name="Viewer#labelFont"><a href="Viewer.html#labelFont">labelFont</a></li>
            
                <li data-name="Viewer#maxSlotThickness"><a href="Viewer.html#maxSlotThickness">maxSlotThickness</a></li>
            
                <li data-name="Viewer#minDimension"><a href="Viewer.html#minDimension">minDimension</a></li>
            
                <li data-name="Viewer#width"><a href="Viewer.html#width">width</a></li>
            
                <li data-name="Viewer#zoomFactor"><a href="Viewer.html#zoomFactor">zoomFactor</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Viewer#captions"><a href="Viewer.html#captions">captions</a></li>
            
                <li data-name="Viewer#clear"><a href="Viewer.html#clear">clear</a></li>
            
                <li data-name="Viewer#features"><a href="Viewer.html#features">features</a></li>
            
                <li data-name="Viewer#featureTypes"><a href="Viewer.html#featureTypes">featureTypes</a></li>
            
                <li data-name="Viewer#flash"><a href="Viewer.html#flash">flash</a></li>
            
                <li data-name="Viewer#maxZoomedRadius"><a href="Viewer.html#maxZoomedRadius">maxZoomedRadius</a></li>
            
                <li data-name="Viewer#moveTo"><a href="Viewer.html#moveTo">moveTo</a></li>
            
                <li data-name="Viewer#plots"><a href="Viewer.html#plots">plots</a></li>
            
                <li data-name="Viewer#resize"><a href="Viewer.html#resize">resize</a></li>
            
                <li data-name="Viewer#slots"><a href="Viewer.html#slots">slots</a></li>
            
                <li data-name="Viewer#tracks"><a href="Viewer.html#tracks">tracks</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="SequenceExtractor.js.html">Source: SequenceExtractor.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source "><code>//////////////////////////////////////////////////////////////////////////////
// SequenceExtractor
//////////////////////////////////////////////////////////////////////////////
(function(CGV) {

  /**
   * The Extractor creates features or plots based on the sequence
   */
  class SequenceExtractor {

    /**
     * Create a Sequence Extractor
     *
     * @param {Viewer} sequence - The sequence to extract from.
     * @param {Object} options - Options and stuff
     */
    constructor(sequence, options = {}) {
      this.sequence = sequence;
      if (!sequence.seq) {
        throw('Sequence invalid. The sequence must be provided.')
      }
    }

    //////////////////////////////////////////////////////////////////////////
    // MEMBERS
    //////////////////////////////////////////////////////////////////////////

    /**
     * @member {Sequence} - Get or set the sequence.
     */

    get sequence() {
      return this._sequence
    }

    set sequence(value) {
      if (value) {
        this._sequence = value;
      }
    }

    /**
     * @member {String} - Get the seqeunce as a string
     */
    get seqString() {
      return this.sequence.seq
    }

    /**
     * @member {String} - Get the viewer
     */
    get viewer() {
      return this.sequence.viewer
    }

    /**
     * @member {Number} - Get the seqeunce length.
     */
    get length() {
      return this.sequence.length
    }

    //////////////////////////////////////////////////////////////////////////
    // METHODS
    //////////////////////////////////////////////////////////////////////////

    extractFeatures(options = {}) {
      var features = new CGV.CGArray();
      if (options.sequence == 'start_stop_codons') {
        features = this.extractStartStops(options);
      } else if (options.sequence == 'orfs') {
        features = this.extractORFs(options);
      }
      return features
    }

    // generateFeatures(track, options) {
    //   if (options.sequence == 'start_stop_codons') {
    //     features = this.generateStartStops(options);
    //   } else if (options.sequence == 'orfs') {
    //     features = this.extractORFs(options);
    //   }
    // }
    //

    generateFeatures(track, options) {
      if (!CGV.validate(options.sequence, ['start_stop_codons', 'orfs'])) { return }
      var startTime = new Date().getTime();
      var type = options.sequence;
      var viewer = this.viewer;
      // Start worker
      var url = this.fn2workerURL(CGV.WorkerFeatureExtraction);
      var worker = new Worker(url);
      // Prepare message
      var message = {};
      message.type = type;
      message.startPattern = CGV.defaultFor(options.start, 'ATG');
      message.stopPattern = CGV.defaultFor(options.stop, 'TAA,TAG,TGA');
      message.seqString = this.seqString;
      message.minORFLength = CGV.defaultFor(options.minORFLength, 100);
      worker.postMessage(message);
      worker.onmessage = (e) => {
        var messageType = e.data.messageType;
        if (messageType == 'progress') {
          track.loadProgress = e.data.progress;
          viewer.layout.drawProgress();
        }
        if (messageType == 'complete') {
          track.loadProgress = 100;
          var featureDataArray = e.data.featureDataArray;
          console.log("Features '" + type + "' Worker Time: " + CGV.elapsed_time(startTime) );
          var features = new CGV.CGArray();
          startTime = new Date().getTime();
          var featureData;
          var legends = this.createLegendItems(type);
          var featureType = this.getFeatureType(type); // this will create the feature type
          console.log(type)
          for (var i = 0, len = featureDataArray.length; i &lt; len; i++) {
            featureData = featureDataArray[i];
            featureData.legend = legends[featureData.type];
            features.push( new CGV.Feature(viewer, featureData) );
          }
          console.log("Features '" + type + "' Creation Time: " + CGV.elapsed_time(startTime) );
          startTime = new Date().getTime();
          track._features = features;
          track.updateSlots();
          console.log("Features '" + type + "' Update Time: " + CGV.elapsed_time(startTime) );
          viewer.drawFull();
        }
      }

      worker.onerror = (e) => {
        // do stuff
      }

    }

    createLegendItems(type) {
      var legends = {};
      if (type == 'orfs') {
        legends = {
          'ORF': this.getLegendItem('ORF')
        }
      } else if (type == 'start_stop_codons') {
        legends = {
          'start-codon': this.getLegendItem('start-codon'),
          'stop-codon': this.getLegendItem('stop-codon')
        }
      }
      return legends
    }

    extractORFs(options = {}) {
      this.viewer.flash('Finding ORFs...');
      var startTime = new Date().getTime();
      var features = new CGV.CGArray();
      var type = 'ORF'
      var source = 'orfs'
      var minORFLength = CGV.defaultFor(options.minORFLength, 100)
      // Get start features by reading frame
      var startPattern = CGV.defaultFor(options.start, 'ATG')
      var startFeatures = this.createFeaturesFromPattern(startPattern, 'start-codon', 'start-stop-codons');
      var startsByRF = this.sequence.featuresByReadingFrame(startFeatures);
      // Get stop features by reading frame
      var stopPattern = CGV.defaultFor(options.stop, 'TAA,TAG,TGA');
      var stopFeatures = this.createFeaturesFromPattern(stopPattern, 'start-codon', 'start-stop-codons');
      var stopsByRF = this.sequence.featuresByReadingFrame(stopFeatures);
      // Get forward ORFs
      var position,  orfLength, range, readingFrames;
      readingFrames = ['rf_plus_1', 'rf_plus_2', 'rf_plus_3'];
      var start, stop, stopIndex;
      for (var rf of readingFrames) {
        position = 1;
        stopIndex = 0;
        for (var i = 0, len_i = startsByRF[rf].length; i &lt; len_i; i++) {
          start = startsByRF[rf][i];
          if (start.start &lt; position) {
            continue;
          }
          for (var j = stopIndex, len_j = stopsByRF[rf].length; j &lt; len_j; j++) {
            stop = stopsByRF[rf][j];
            orfLength = stop.stop - start.start;
            if (orfLength >= minORFLength) {
              position = stop.stop;
              range = new CGV.CGRange(this.sequence, start.start, stop.stop);
              features.push( this.createFeature(range, type, 1, source ) );
              stopIndex = j;
              break;
            }
          }
        }
      }
      // Get reverse ORFs
      readingFrames = ['rf_minus_1', 'rf_minus_2', 'rf_minus_3'];
      for (var rf of readingFrames) {
        stopIndex = 0;
        position = this.sequence.length;
        var startsByRFSorted = startsByRF[rf].order_by('start', true);
        var stopsByRFSorted = stopsByRF[rf].order_by('start', true);
        for (var i = 0, len_i = startsByRF[rf].length; i &lt; len_i; i++) {
          start = startsByRF[rf][i];
          if (start.start > position) {
            continue;
          }
          for (var j = stopIndex, len_j = stopsByRF[rf].length; j &lt; len_j; j++) {
            stop = stopsByRF[rf][j];
            orfLength = start.stop - stop.start;
            if (orfLength >= minORFLength) {
              position = stop.start;
              range = new CGV.CGRange(this.sequence, stop.start, start.stop);
              features.push( this.createFeature(range, type, -1, source ) );
              stopIndex = j;
              break;
            }
          }
        }
      }
      console.log('ORF Extraction Time: ' + CGV.elapsed_time(startTime) );
      return features
    }

    extractStartStops(options = {}) {
      this.viewer.flash('Finding Start/Stop Codons...');
      var startTime = new Date().getTime();
      // Forward and Reverse Starts
      var startPattern = CGV.defaultFor(options.start, 'ATG')
      var features = this.createFeaturesFromPattern(startPattern, 'start-codon', 'start-stop-codons');
      // Forward and Reverse Stops
      var stopPattern = CGV.defaultFor(options.stop, 'TAA,TAG,TGA');
      features.merge( this.createFeaturesFromPattern(stopPattern, 'stop-codon', 'start-stop-codons'))
      console.log('Start/Stop Extraction Time: ' + CGV.elapsed_time(startTime) );
      return features
    }

    createFeaturesFromPattern(pattern, type, source) {
      var features = new CGV.CGArray();
      pattern = pattern.toUpperCase().split(',').map( (s) => { return s.trim() }).join('|')
      for (var strand of [1, -1]) {
        // var startTime = new Date().getTime();
        var ranges = this.sequence.findPattern(pattern, strand)
        // console.log("Find Pattern '" + pattern + "' Strand " + strand + " Time: " + CGV.elapsed_time(startTime) );
        // var startTime = new Date().getTime();
        for (var i = 0, len = ranges.length; i &lt; len; i++) {
          features.push( this.createFeature(ranges[i], type, strand, source ) );
        }
        // console.log("Features for Pattern '" + pattern + "' Strand " + strand + " Time: " + CGV.elapsed_time(startTime) );
      }
      return features.order_by('start')
    }

    createFeature(range, type, strand, source) {
      var featureData = {
        type: type,
        start: range.start,
        stop: range.stop,
        strand: strand,
        source: source,
        extractedFromSequence: true
      }
      featureData.legend = this.getLegendItem(type).text;
      return new CGV.Feature(this.viewer, featureData)
    }

    getFeatureType(type) {
      var viewer = this.viewer;
      var featureType;
      switch (type) {
        case 'start_stop_codons':
          featureType = viewer.findFeatureTypeOrCreate('Codon', 'arc');
          break;
        case 'orfs':
          featureType = viewer.findFeatureTypeOrCreate('ORF', 'arrow');
          break;
        default:
          featureType = viewer.findFeatureTypeOrCreate('Unknown', 'arc');
      }
      return featureType 
    }

    getLegendItem(type, sign) {
      var legend = this.viewer.legend;
      var item;
      switch (type) {
        case 'start-codon':
          item = legend.findLegendItemOrCreate('Start', 'blue');
          break;
        case 'stop-codon':
          item = legend.findLegendItemOrCreate('Stop', 'red');
          break;
        case 'ORF':
          item = legend.findLegendItemOrCreate('ORF', 'green');
          break;
        case 'gc_content':
          item = legend.findLegendItemOrCreate('GC Content', 'black');
          break;
        case 'gc_skew':
          var color = (sign == '+') ? 'rgb(0,153,0)' : 'rgb(153,0,153)';
          var name = (sign == '+') ? 'GC Skew+' : 'GC Skew-';
          item = legend.findLegendItemOrCreate(name, color);
          break;
        default:
          item = legend.findLegendItemOrCreate('Unknown', 'grey');
      }
      return item 
    }


    fn2workerURL(fn) {
      var blob = new Blob(['('+fn.toString()+')()'], {type: 'application/javascript'})
      return URL.createObjectURL(blob)
    }


    generatePlot(track, options = {}) {
      if (!CGV.validate(options.sequence, ['gc_content', 'gc_skew'])) { return }
      var startTime = new Date().getTime();
      var type = options.sequence;
      var viewer = this.viewer;
      // Start worker
      var url = this.fn2workerURL(CGV.WorkerBaseContent);
      var worker = new Worker(url);
      // Prepare message
      var message = {};
      message.type = type;
      message.window = CGV.defaultFor(options.window, this.getWindowStep().window);
      var step = CGV.defaultFor(options.step, this.getWindowStep().step);
      message.step = step
      message.deviation = CGV.defaultFor(options.deviation, 'scale'); // 'scale' or 'average'
      message.seqString = this.seqString;
      worker.postMessage(message);
      worker.onmessage = (e) => {
        var messageType = e.data.messageType;
        if (messageType == 'progress') {
          track.loadProgress = e.data.progress;
          viewer.layout.drawProgress();
        }
        if (messageType == 'complete') {
          var baseContent = e.data.baseContent;
          var data = { positions: baseContent.positions, scores: baseContent.scores, baseline: baseContent.average };
          data.legendPositive = this.getLegendItem(type, '+').text;
          data.legendNegative = this.getLegendItem(type, '-').text;

          var plot = new CGV.ArcPlot(viewer, data);
          track._arcPlot = plot;
          track.updateSlots();
          console.log("Plot '" + type + "' Worker Time: " + CGV.elapsed_time(startTime) );
          viewer.drawFull();
        }
      }

      worker.onerror = (e) => {
        // do stuff
      }

    }

    // extractPlot(options = {}) {
    //   if (options.sequence == 'gc_content') {
    //     return this.extractBaseContentPlot('gc_content', options);
    //   } else if (options.sequence == 'gc_skew') {
    //     return this.extractBaseContentPlot('gc_skew', options);
    //   }
    // }
    //
    // // PLOTS should be bp: [1,23,30,45], score: [0, 0.4, 1]
    // // score must be between 0 and 1
    // extractBaseContentPlot(type, options = {}) {
    //   var startTime = new Date().getTime();
    //   if (!CGV.validate(type, ['gc_content', 'gc_skew'])) { return }
    //   this.viewer.flash("Creating '" + type + "' Plot...");
    //
    //
    //   options.window = CGV.defaultFor(options.window, this.getWindowStep().window);
    //   options.step = CGV.defaultFor(options.step, this.getWindowStep().step);
    //   var step = options.step
    //   var deviation = CGV.defaultFor(options.deviation, 'scale'); // 'scale' or 'average'
    //   // var deviation = CGV.defaultFor(options.deviation, 'average'); // 'scale' or 'average'
    //
    //   var baseContent = this.calculateBaseContent(type, options);
    //   var positions = [];
    //   var position;
    //
    //   // The current position marks the middle of the calculated window.
    //   // Adjust the bp position to mark where the plot changes,
    //   // NOT the center point of the window.
    //   // i.e. half way between the current position and the last
    //   for (var i = 0, len = baseContent.positions.length; i &lt; len; i++) {
    //     position = baseContent.positions[i];
    //     if (i == 0) {
    //       positions.push(1);
    //     } else {
    //       positions.push(position - step/2);
    //     }
    //   }
    //   var data = { positions: positions, scores: baseContent.scores, baseline: baseContent.average };
    //   data.legendPositive = this.getLegendItem(type, '+').text;
    //   data.legendNegative = this.getLegendItem(type, '-').text;
    //
    //   var plot = new CGV.ArcPlot(this.viewer, data);
    //   console.log("Plot '" + type + "' Extraction Time: " + CGV.elapsed_time(startTime) );
    //   return plot
    // }


    // calculateBaseContent(type, options) {
    //   var windowSize = CGV.defaultFor(options.window, this.getWindowStep().window);
    //   var step = CGV.defaultFor(options.step, this.getWindowStep().step);
    //   var deviation = CGV.defaultFor(options.deviation, 'scale'); // 'scale' or 'average'
    //   // var deviation = CGV.defaultFor(options.deviation, 'average'); // 'scale' or 'average'
    //
    //   var positions = [];
    //   var scores = [];
    //   var average =  CGV.Sequence.baseCalculation(type, this.seqString);
    //   // Starting points for min and max
    //   var min = 1;
    //   var max = 0;
    //   var halfWindowSize = windowSize / 2;
    //   var start, stop;
    //
    //   // FIXME: not set up for linear sequences
    //   // position marks the middle of the calculated window
    //   for (var position = 1, len = this.length; position &lt; len; position += step) {
    //     // Extract DNA for window and calculate score
    //     start = this.sequence.subtractBp(position, halfWindowSize);
    //     stop = this.sequence.addBp(position, halfWindowSize);
    //     var range = new CGV.CGRange(this.sequence, start, stop);
    //     var seq = this.sequence.forRange(range);
    //     var score = CGV.Sequence.baseCalculation(type, seq);
    //
    //     if (score > max) {
    //       max = score;
    //     }
    //     if (score &lt; min) {
    //       min = score;
    //     }
    //
    //     positions.push(position);
    //     scores.push(score);
    //   }
    //
    //   // Adjust scores if scaled
    //   // Min value becomes 0
    //   // Max value becomes 1
    //   // Average becomes 0.5
    //   if (deviation == 'scale') {
    //     scores = scores.map( (score) => {
    //       if (score >= average) {
    //         return CGV.scaleValue(score, {min: average, max: max}, {min: 0.5, max: 1});
    //       } else {
    //         return CGV.scaleValue(score, {min: min, max: average}, {min: 0, max: 0.5});
    //       }
    //     });
    //     min = 0;
    //     max = 1;
    //     average = 0.5;
    //   }
    //   return { positions: positions, scores: scores, min: min, max: max, average: average }
    // }


    getWindowStep() {
      var windowSize, step;
      var length = this.length;
      if (length &lt; 1e3 ) {
        windowSize = 10;
        step = 1;
      } else if (length &lt; 1e4) {
        windowSize = 50;
        step = 1;
      } else if (length &lt; 1e5) {
        windowSize = 500;
        step = 1;
      } else if (length &lt; 1e6) {
        windowSize = 1000;
        step = 10;
      } else if (length &lt; 1e7) {
        windowSize = 10000;
        step = 100;
      }
      return { step: step, window: windowSize }
    }


  }

  CGV.SequenceExtractor = SequenceExtractor;

})(CGView);


</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Fri Mar 10 2017 09:08:23 GMT-0700 (MST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
